{
  "version": 3,
  "sources": ["../../scripts/utils/utils.ts", "../../scripts/workers/initColors.ts"],
  "sourcesContent": ["// https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\nexport function shuffle<T>(array: T[]): T[] {\n    let currentIndex = array.length\n\n    // While there remain elements to shuffle...\n    while (currentIndex != 0) {\n        // Pick a remaining element...\n        let randomIndex = Math.floor(Math.random() * currentIndex)\n        currentIndex--\n\n        // And swap it with the current element.\n        ;[array[currentIndex], array[randomIndex]] = [\n            array[randomIndex],\n            array[currentIndex],\n        ] as [T, T]\n    }\n\n    return array\n}\n", "import { shuffle } from 'scripts/utils/utils'\n\nconst MAX_COLORS = 0x1000000\n\n/**\n * Takes the current _colors array as input and returns a huge array containing all remaining colors, shuffled\n * @param message\n */\nself.onmessage = message => {\n    const [ary, key] = message.data\n    buildArrayIncrementally(ary, key)\n}\n\nfunction fullShuffledArray(origColors: number[]): number[] {\n    const colors: number[] = []\n    for (let i = 0; i < MAX_COLORS; i++) {\n        if (origColors.includes(i)) {\n            continue\n        }\n        colors.push(i)\n    }\n\n    return shuffle(colors)\n}\n\nfunction buildArrayIncrementally(colors: number[], key: number): void {\n    const HUNDRED_THOU = 100000\n    const allColors = fullShuffledArray(colors)\n    for (let i = 0; i < 170; i++) {\n        const min = i * HUNDRED_THOU\n        const max = min + HUNDRED_THOU\n\n        if (min >= MAX_COLORS) {\n            break\n        }\n\n        const subset = allColors.slice(min, max)\n\n        self.postMessage([subset, key])\n    }\n}\n"],
  "mappings": ";;;AACO,WAAS,QAAW,OAAiB;AACxC,QAAI,eAAe,MAAM;AAGzB,WAAO,gBAAgB,GAAG;AAEtB,UAAI,cAAc,KAAK,MAAM,KAAK,OAAO,IAAI,YAAY;AACzD;AAGC,OAAC,MAAM,YAAY,GAAG,MAAM,WAAW,CAAC,IAAI;AAAA,QACzC,MAAM,WAAW;AAAA,QACjB,MAAM,YAAY;AAAA,MACtB;AAAA,IACJ;AAEA,WAAO;AAAA,EACX;;;AChBA,MAAM,aAAa;AAMnB,OAAK,YAAY,aAAW;AACxB,UAAM,CAAC,KAAK,GAAG,IAAI,QAAQ;AAC3B,4BAAwB,KAAK,GAAG;AAAA,EACpC;AAEA,WAAS,kBAAkB,YAAgC;AACvD,UAAM,SAAmB,CAAC;AAC1B,aAAS,IAAI,GAAG,IAAI,YAAY,KAAK;AACjC,UAAI,WAAW,SAAS,CAAC,GAAG;AACxB;AAAA,MACJ;AACA,aAAO,KAAK,CAAC;AAAA,IACjB;AAEA,WAAO,QAAQ,MAAM;AAAA,EACzB;AAEA,WAAS,wBAAwB,QAAkB,KAAmB;AAClE,UAAM,eAAe;AACrB,UAAM,YAAY,kBAAkB,MAAM;AAC1C,aAAS,IAAI,GAAG,IAAI,KAAK,KAAK;AAC1B,YAAM,MAAM,IAAI;AAChB,YAAM,MAAM,MAAM;AAElB,UAAI,OAAO,YAAY;AACnB;AAAA,MACJ;AAEA,YAAM,SAAS,UAAU,MAAM,KAAK,GAAG;AAEvC,WAAK,YAAY,CAAC,QAAQ,GAAG,CAAC;AAAA,IAClC;AAAA,EACJ;",
  "names": []
}
